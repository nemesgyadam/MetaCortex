2025-04-26 15:36:47,459 - mcp.server.lowlevel.server - DEBUG - Initializing server 'wolt'
2025-04-26 15:36:47,459 - mcp.server.lowlevel.server - DEBUG - Registering handler for ListToolsRequest
2025-04-26 15:36:47,459 - mcp.server.lowlevel.server - DEBUG - Registering handler for CallToolRequest
2025-04-26 15:36:47,459 - mcp.server.lowlevel.server - DEBUG - Registering handler for ListResourcesRequest
2025-04-26 15:36:47,459 - mcp.server.lowlevel.server - DEBUG - Registering handler for ReadResourceRequest
2025-04-26 15:36:47,459 - mcp.server.lowlevel.server - DEBUG - Registering handler for PromptListRequest
2025-04-26 15:36:47,460 - mcp.server.lowlevel.server - DEBUG - Registering handler for GetPromptRequest
2025-04-26 15:36:47,460 - mcp.server.lowlevel.server - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-04-26 15:36:47,481 - __main__ - INFO - Starting Wolt MCP server... Logging to console and C:\Code\MetaCortex_v1\wolt\logs\wolt_mcp_server_20250426_153647.log
2025-04-26 15:36:47,482 - __main__ - DEBUG - Using AUTH_TOKEN: ******
2025-04-26 15:36:47,482 - __main__ - DEBUG - Using SESSION_ID: 1af23bc3-fb71-4e6d-980d-0d9b7ed583e0
2025-04-26 15:36:47,486 - asyncio - DEBUG - Using proactor: IocpProactor
2025-04-26 15:36:47,495 - mcp.server.lowlevel.server - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=NotificationParams(meta=None), jsonrpc='2.0')
2025-04-26 15:36:47,495 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x00000246061D7350>
2025-04-26 15:36:47,495 - mcp.server.lowlevel.server - INFO - Processing request of type ListToolsRequest
2025-04-26 15:36:47,495 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type ListToolsRequest
2025-04-26 15:36:47,496 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-04-26 15:36:55,087 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000002460629B150>
2025-04-26 15:36:55,087 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
2025-04-26 15:36:55,088 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type CallToolRequest
2025-04-26 15:36:55,088 - __main__ - INFO - Making request to https://consumer-api.wolt.com/order-xp/v1/baskets
2025-04-26 15:36:55,088 - __main__ - DEBUG - Headers: {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36', 'Content-Type': 'application/json', 'Accept': 'application/json', 'Accept-Language': 'en', 'X-Client-Id': 'web', 'X-Session-Id': '1af23bc3-fb71-4e6d-980d-0d9b7ed583e0', 'Authorization': 'Bearer eyJhbGciOiJFUzI1NiIsImtpZCI6IjY4MDMzZDU2MDAwMDAwMDAwMDAwMDAwMCIsInR5cCI6IngudXNlcitqd3QifQ.eyJhdWQiOlsicmVzdGF1cmFudC1hcGkiLCJpbnRlZ3JhdGlvbi1jb25maWctc2VydmljZSIsIm1lYWwtYmVuZWZpdHMtc2VydmljZSIsImNvbnN1bWVyLWFzc29ydG1lbnQiLCJsb3lhbHR5LWdhdGV3YXkiLCJwYXltZW50LXNlcnZpY2UiLCJzdWJzY3JpcHRpb24tc2VydmljZSIsIndscy1jdXN0b21lci1zZXJ2aWNlIiwiY29udmVyc2Utd2lkZ2V0LWNvbnN1bWVyIiwiZS13YWxsZXQtc2VydmljZSIsImRhYXMtcHVibGljLWFwaSIsIndvbHQtY29tIiwib3JkZXItdHJhY2tpbmciLCJnaWZ0LWNhcmQtc2hvcCIsImNvdXJpZXJjbGllbnQiLCJ0b3B1cC1zZXJ2aWNlIiwic3VwcG9ydC1mdW5uZWwiLCJwYXltZW50cy10aXBzLXNlcnZpY2UiLCJkaWZmdXNpb24iLCJ3b2x0YXV0aCIsImFjdGl2aXR5LWh1YiIsInJldHVybnMtYXBpIiwibG95YWx0eS1wcm9ncmFtLWFwaSIsImNvcnBvcmF0ZS1wb3J0YWwtYXBpIiwidmVudWUtY29udGVudC1hcGkiLCJvcmRlci14cCIsImFkLWluc2lnaHRzIl0sImlzcyI6IndvbHRhdXRoIiwianRpIjoiMTVmZmNhZDgyMmExMTFmMGI0ZGUxNjg0MGY1ZGFiMzIiLCJ1c2VyIjp7ImlkIjoiNWU4YjI4YWFkY2UyY2RiODY0MmIzNTNkIiwibmFtZSI6eyJmaXJzdF9uYW1lIjoiTmVtZXMiLCJsYXN0X25hbWUiOiJcdTAwYzFkXHUwMGUxbSJ9LCJlbWFpbCI6Im5lbWVzZ3lhZGFtQGdtYWlsLmNvbSIsInJvbGVzIjpbInVzZXIiXSwiZW1haWxfdmVyaWZpZWQiOnRydWUsInBob25lX251bWJlcl92ZXJpZmllZCI6dHJ1ZSwiY291bnRyeSI6IkhVTiIsImxhbmd1YWdlIjoiaHUiLCJwcm9maWxlX3BpY3R1cmUiOnsidXJsIjoiaHR0cHM6Ly9jcmVkaXRvcm5vdG1lZGlhLnMzLmFtYXpvbmF3cy5jb20vZTFhYzQ3YmNmM2Q4ZTc0Y2JmMGI0NjAxZjA4MjFmODZmOWRlYzMyYjNmOTQxZWJmNzFkMWQ4Y2QwZGYxNDQ5YzNlNDdlODJlZDA4MDRlMTc0NmRlNjZhNjBkYmRmODUxYjQwNDliMDRhNWZmZGNkOGExN2MzMWQ3NTg3ODUzMGEifSwicGVybWlzc2lvbnMiOltdLCJwaG9uZV9udW1iZXIiOiIrMzYzMDYwMjY4MTgiLCJ0ZW5hbnQiOiJ3b2x0In0sImlhdCI6MTc0NTY3MzU3MCwiZXhwIjoxNzQ1Njc1MzcwLCJhbXIiOltdfQ.r9Uh8iA2DvMuV-8fc27pPu-ZJEvbHlHQvcOPZBZpPUVVAqVCnHih2sB_nKePhhBFYqOIdq0QJc-b7QXJC-F6gA'}
2025-04-26 15:36:55,088 - __main__ - DEBUG - Request data: {'venue_id': '617bd8b17317edf628e3dd26', 'items': [{'id': '0edff4489301896552b7fb23', 'quantity': 1, 'price': 95000}], 'currency': 'HUF'}
2025-04-26 15:36:55,296 - httpcore.connection - DEBUG - connect_tcp.started host='consumer-api.wolt.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-04-26 15:36:55,335 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000024606135F10>
2025-04-26 15:36:55,336 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000024606666E70> server_hostname='consumer-api.wolt.com' timeout=5.0
2025-04-26 15:36:55,356 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002460624BC90>
2025-04-26 15:36:55,358 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-26 15:36:55,358 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-26 15:36:55,358 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-26 15:36:55,358 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-26 15:36:55,358 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-26 15:36:55,432 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json'), (b'Content-Length', b'71'), (b'Connection', b'keep-alive'), (b'Date', b'Sat, 26 Apr 2025 13:36:55 GMT'), (b'Vary', b'Accept-Encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 3621ca50ba49ddcb4ec6b807edaab51a.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'BUD50-P1'), (b'X-Amz-Cf-Id', b'iintG5JZ3qcuhn4sctHccB4bT3Tuq5wURyouss3PjQrwLEWGuM69rw==')])
2025-04-26 15:36:55,434 - httpx - INFO - HTTP Request: POST https://consumer-api.wolt.com/order-xp/v1/baskets "HTTP/1.1 200 OK"
2025-04-26 15:36:55,434 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-26 15:36:55,435 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-26 15:36:55,435 - httpcore.http11 - DEBUG - response_closed.started
2025-04-26 15:36:55,435 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-26 15:36:55,435 - __main__ - INFO - Response status: 200
2025-04-26 15:36:55,435 - __main__ - INFO - Response headers: Headers({'content-type': 'application/json', 'content-length': '71', 'connection': 'keep-alive', 'date': 'Sat, 26 Apr 2025 13:36:55 GMT', 'vary': 'Accept-Encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 3621ca50ba49ddcb4ec6b807edaab51a.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'BUD50-P1', 'x-amz-cf-id': 'iintG5JZ3qcuhn4sctHccB4bT3Tuq5wURyouss3PjQrwLEWGuM69rw=='})
2025-04-26 15:36:55,435 - __main__ - INFO - {"id":"680cdc8c88f053462f24109f","venue_id":"617bd8b17317edf628e3dd26"}
2025-04-26 15:36:55,435 - httpcore.connection - DEBUG - close.started
2025-04-26 15:36:55,435 - httpcore.connection - DEBUG - close.complete
2025-04-26 15:36:55,437 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-04-26 15:36:59,966 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000024606106350>
2025-04-26 15:36:59,966 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
2025-04-26 15:36:59,966 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type CallToolRequest
2025-04-26 15:36:59,980 - httpcore.connection - DEBUG - connect_tcp.started host='consumer-api.wolt.com' port=443 local_address=None timeout=30.0 socket_options=None
2025-04-26 15:36:59,995 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000246062AA7D0>
2025-04-26 15:36:59,995 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000246061A6DE0> server_hostname='consumer-api.wolt.com' timeout=30.0
2025-04-26 15:37:00,010 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000246062AA890>
2025-04-26 15:37:00,011 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-26 15:37:00,012 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-26 15:37:00,012 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-26 15:37:00,012 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-26 15:37:00,013 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-26 15:37:00,070 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Content-Type', b'text/plain'), (b'Content-Length', b'18'), (b'Connection', b'keep-alive'), (b'Date', b'Sat, 26 Apr 2025 13:36:59 GMT'), (b'X-Cache', b'Error from cloudfront'), (b'Via', b'1.1 75f81a6b4109b269385e5a352c58b638.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'BUD50-P1'), (b'X-Amz-Cf-Id', b'4NYrdeCqZIkL1lKbA7x_oqkiHIYcGSHO_d-quX7AGZ2dN0fyhPCjdQ==')])
2025-04-26 15:37:00,072 - httpx - INFO - HTTP Request: GET https://consumer-api.wolt.com/consumer-api/consumer-assortment/v1/venues/slug/pizza-me-budapest/items?language=en&ids=0edff4489301896552b7fb23 "HTTP/1.1 404 Not Found"
2025-04-26 15:37:00,072 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-26 15:37:00,072 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-26 15:37:00,072 - httpcore.http11 - DEBUG - response_closed.started
2025-04-26 15:37:00,072 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-26 15:37:00,072 - httpcore.connection - DEBUG - close.started
2025-04-26 15:37:00,072 - httpcore.connection - DEBUG - close.complete
2025-04-26 15:37:00,073 - __main__ - ERROR - Failed to fetch menu items: Client error '404 Not Found' for url 'https://consumer-api.wolt.com/consumer-api/consumer-assortment/v1/venues/slug/pizza-me-budapest/items?language=en&ids=0edff4489301896552b7fb23'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
Traceback (most recent call last):
  File "C:\Code\MetaCortex_v1\wolt\wolt.py", line 346, in wolt_menu_items
    resp.raise_for_status()
  File "C:\Users\Nemes\AppData\Local\Programs\Python\Python311\Lib\site-packages\httpx\_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://consumer-api.wolt.com/consumer-api/consumer-assortment/v1/venues/slug/pizza-me-budapest/items?language=en&ids=0edff4489301896552b7fb23'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-04-26 15:37:00,074 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-04-26 15:37:04,895 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x00000246066EBB90>
2025-04-26 15:37:04,895 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
2025-04-26 15:37:04,896 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type CallToolRequest
2025-04-26 15:37:04,911 - httpcore.connection - DEBUG - connect_tcp.started host='consumer-api.wolt.com' port=443 local_address=None timeout=30.0 socket_options=None
2025-04-26 15:37:04,927 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000024606748D10>
2025-04-26 15:37:04,927 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000246061A6210> server_hostname='consumer-api.wolt.com' timeout=30.0
2025-04-26 15:37:04,943 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002460629B2D0>
2025-04-26 15:37:04,945 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-26 15:37:04,946 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-26 15:37:04,946 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-26 15:37:04,946 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-26 15:37:04,947 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-26 15:37:05,018 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Content-Type', b'application/json'), (b'Content-Length', b'146'), (b'Connection', b'keep-alive'), (b'Date', b'Sat, 26 Apr 2025 13:37:04 GMT'), (b'X-Cache', b'Error from cloudfront'), (b'Via', b'1.1 0ab878730f4869757e319be8e5f8e4a8.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'BUD50-P1'), (b'X-Amz-Cf-Id', b'3NVMqQhuPbDHlX9upNca7clvTpuuQcd4D3TGgczAA3e3PxyHakHEGQ==')])
2025-04-26 15:37:05,018 - httpx - INFO - HTTP Request: POST https://consumer-api.wolt.com/order-xp/web/v2/pages/checkout "HTTP/1.1 400 Bad Request"
2025-04-26 15:37:05,018 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-26 15:37:05,018 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-26 15:37:05,018 - httpcore.http11 - DEBUG - response_closed.started
2025-04-26 15:37:05,018 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-26 15:37:05,018 - httpcore.connection - DEBUG - close.started
2025-04-26 15:37:05,019 - httpcore.connection - DEBUG - close.complete
2025-04-26 15:37:05,019 - __main__ - ERROR - Failed to checkout: Client error '400 Bad Request' for url 'https://consumer-api.wolt.com/order-xp/web/v2/pages/checkout'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
Traceback (most recent call last):
  File "C:\Code\MetaCortex_v1\wolt\wolt.py", line 517, in wolt_checkout
    resp.raise_for_status()
  File "C:\Users\Nemes\AppData\Local\Programs\Python\Python311\Lib\site-packages\httpx\_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '400 Bad Request' for url 'https://consumer-api.wolt.com/order-xp/web/v2/pages/checkout'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-04-26 15:37:05,020 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-04-26 15:37:43,219 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x00000246061352D0>
2025-04-26 15:37:43,219 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
2025-04-26 15:37:43,219 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type CallToolRequest
2025-04-26 15:37:43,220 - __main__ - INFO - Fetching restaurants near lat=47.497912, lon=19.040235 with category=pizza
2025-04-26 15:37:43,229 - httpcore.connection - DEBUG - connect_tcp.started host='restaurant-api.wolt.com' port=443 local_address=None timeout=30.0 socket_options=None
2025-04-26 15:37:43,270 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002460674A310>
2025-04-26 15:37:43,270 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000246061A6600> server_hostname='restaurant-api.wolt.com' timeout=30.0
2025-04-26 15:37:43,291 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000246062B8110>
2025-04-26 15:37:43,291 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-26 15:37:43,291 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-26 15:37:43,291 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-26 15:37:43,291 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-26 15:37:43,291 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-26 15:37:44,014 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Sat, 26 Apr 2025 13:37:43 GMT'), (b'Content-Disposition', b'inline; filename=results.json'), (b'Content-Encoding', b'gzip'), (b'Vary', b'Accept-Encoding'), (b'Vary', b'Origin'), (b'Access-Control-Allow-Credentials', b'true'), (b'Access-Control-Allow-Origin', b'http://wolt.com'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 f37834b71dcaa17cc08f5c67189869e2.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'BUD50-P1'), (b'X-Amz-Cf-Id', b'gqtuTA_XvevtjlY79L2CI2GRqaMlRlNAVV3aBU0Y-07hWPUIRDwjig==')])
2025-04-26 15:37:44,014 - httpx - INFO - HTTP Request: GET https://restaurant-api.wolt.com/v1/pages/venue-list/category-pizza?lat=47.497912&lon=19.040235 "HTTP/1.1 200 OK"
2025-04-26 15:37:44,014 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-26 15:37:44,133 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-26 15:37:44,134 - httpcore.http11 - DEBUG - response_closed.started
2025-04-26 15:37:44,134 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-26 15:37:44,141 - __main__ - INFO - Wolt API response status: 200
2025-04-26 15:37:44,141 - __main__ - INFO - Found 92 online Italian restaurants.
2025-04-26 15:37:44,141 - httpcore.connection - DEBUG - close.started
2025-04-26 15:37:44,141 - httpcore.connection - DEBUG - close.complete
2025-04-26 15:37:44,141 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-04-26 15:37:48,627 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000024606528650>
2025-04-26 15:37:48,627 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
2025-04-26 15:37:48,627 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type CallToolRequest
2025-04-26 15:37:48,634 - httpcore.connection - DEBUG - connect_tcp.started host='consumer-api.wolt.com' port=443 local_address=None timeout=30.0 socket_options=None
2025-04-26 15:37:48,669 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002460629B150>
2025-04-26 15:37:48,669 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000246061A64E0> server_hostname='consumer-api.wolt.com' timeout=30.0
2025-04-26 15:37:48,686 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000246066EBA10>
2025-04-26 15:37:48,686 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-26 15:37:48,687 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-26 15:37:48,687 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-26 15:37:48,687 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-26 15:37:48,687 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-26 15:37:48,835 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json'), (b'Content-Length', b'3777'), (b'Connection', b'keep-alive'), (b'Date', b'Sat, 26 Apr 2025 13:37:48 GMT'), (b'Content-Encoding', b'gzip'), (b'Vary', b'Accept-Encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 01175f61148c3275cc32308ec5824a5e.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'BUD50-P1'), (b'X-Amz-Cf-Id', b'_Eov9wBEqIrZLPFOFDbo_CiQgPzSVAGTv_AaUloGqY9zJXsaBTLVYQ==')])
2025-04-26 15:37:48,835 - httpx - INFO - HTTP Request: GET https://consumer-api.wolt.com/consumer-api/consumer-assortment/v1/venues/slug/pizzamuvek-bartok/assortment?language=en&loading_strategy=full "HTTP/1.1 200 OK"
2025-04-26 15:37:48,835 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-26 15:37:48,835 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-26 15:37:48,835 - httpcore.http11 - DEBUG - response_closed.started
2025-04-26 15:37:48,835 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-26 15:37:48,836 - __main__ - INFO - Filtering venue menu data...
2025-04-26 15:37:48,836 - httpcore.connection - DEBUG - close.started
2025-04-26 15:37:48,836 - httpcore.connection - DEBUG - close.complete
2025-04-26 15:37:48,836 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-04-26 15:37:53,116 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x00000246065281D0>
2025-04-26 15:37:53,117 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
2025-04-26 15:37:53,117 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type CallToolRequest
2025-04-26 15:37:53,126 - httpcore.connection - DEBUG - connect_tcp.started host='consumer-api.wolt.com' port=443 local_address=None timeout=30.0 socket_options=None
2025-04-26 15:37:53,143 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000024606BF42D0>
2025-04-26 15:37:53,143 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000246061A6DE0> server_hostname='consumer-api.wolt.com' timeout=30.0
2025-04-26 15:37:53,159 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000024606BF6A50>
2025-04-26 15:37:53,159 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-26 15:37:53,159 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-26 15:37:53,160 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-26 15:37:53,160 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-26 15:37:53,160 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-26 15:37:53,379 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json'), (b'Content-Length', b'19014'), (b'Connection', b'keep-alive'), (b'Date', b'Sat, 26 Apr 2025 13:37:53 GMT'), (b'Content-Encoding', b'gzip'), (b'Vary', b'Accept-Encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 4d5408e413d9b036d59b4b7971170634.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'BUD50-P1'), (b'X-Amz-Cf-Id', b'Tgr470RMQ6KwSl-FmuxUCt2iLJKrDCkCD5MBXIk5bpg44LzIyRc8Yw==')])
2025-04-26 15:37:53,379 - httpx - INFO - HTTP Request: GET https://consumer-api.wolt.com/consumer-api/consumer-assortment/v1/venues/slug/bellozzo-oktogon/assortment?language=en&loading_strategy=full "HTTP/1.1 200 OK"
2025-04-26 15:37:53,379 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-26 15:37:53,381 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-26 15:37:53,381 - httpcore.http11 - DEBUG - response_closed.started
2025-04-26 15:37:53,381 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-26 15:37:53,386 - __main__ - INFO - Filtering venue menu data...
2025-04-26 15:37:53,386 - httpcore.connection - DEBUG - close.started
2025-04-26 15:37:53,386 - httpcore.connection - DEBUG - close.complete
2025-04-26 15:37:53,388 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-04-26 15:38:00,533 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000024601119850>
2025-04-26 15:38:00,534 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
2025-04-26 15:38:00,534 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type CallToolRequest
2025-04-26 15:38:00,535 - __main__ - INFO - Making request to https://consumer-api.wolt.com/order-xp/v1/baskets
2025-04-26 15:38:00,535 - __main__ - DEBUG - Headers: {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36', 'Content-Type': 'application/json', 'Accept': 'application/json', 'Accept-Language': 'en', 'X-Client-Id': 'web', 'X-Session-Id': '1af23bc3-fb71-4e6d-980d-0d9b7ed583e0', 'Authorization': 'Bearer eyJhbGciOiJFUzI1NiIsImtpZCI6IjY4MDMzZDU2MDAwMDAwMDAwMDAwMDAwMCIsInR5cCI6IngudXNlcitqd3QifQ.eyJhdWQiOlsicmVzdGF1cmFudC1hcGkiLCJpbnRlZ3JhdGlvbi1jb25maWctc2VydmljZSIsIm1lYWwtYmVuZWZpdHMtc2VydmljZSIsImNvbnN1bWVyLWFzc29ydG1lbnQiLCJsb3lhbHR5LWdhdGV3YXkiLCJwYXltZW50LXNlcnZpY2UiLCJzdWJzY3JpcHRpb24tc2VydmljZSIsIndscy1jdXN0b21lci1zZXJ2aWNlIiwiY29udmVyc2Utd2lkZ2V0LWNvbnN1bWVyIiwiZS13YWxsZXQtc2VydmljZSIsImRhYXMtcHVibGljLWFwaSIsIndvbHQtY29tIiwib3JkZXItdHJhY2tpbmciLCJnaWZ0LWNhcmQtc2hvcCIsImNvdXJpZXJjbGllbnQiLCJ0b3B1cC1zZXJ2aWNlIiwic3VwcG9ydC1mdW5uZWwiLCJwYXltZW50cy10aXBzLXNlcnZpY2UiLCJkaWZmdXNpb24iLCJ3b2x0YXV0aCIsImFjdGl2aXR5LWh1YiIsInJldHVybnMtYXBpIiwibG95YWx0eS1wcm9ncmFtLWFwaSIsImNvcnBvcmF0ZS1wb3J0YWwtYXBpIiwidmVudWUtY29udGVudC1hcGkiLCJvcmRlci14cCIsImFkLWluc2lnaHRzIl0sImlzcyI6IndvbHRhdXRoIiwianRpIjoiMTVmZmNhZDgyMmExMTFmMGI0ZGUxNjg0MGY1ZGFiMzIiLCJ1c2VyIjp7ImlkIjoiNWU4YjI4YWFkY2UyY2RiODY0MmIzNTNkIiwibmFtZSI6eyJmaXJzdF9uYW1lIjoiTmVtZXMiLCJsYXN0X25hbWUiOiJcdTAwYzFkXHUwMGUxbSJ9LCJlbWFpbCI6Im5lbWVzZ3lhZGFtQGdtYWlsLmNvbSIsInJvbGVzIjpbInVzZXIiXSwiZW1haWxfdmVyaWZpZWQiOnRydWUsInBob25lX251bWJlcl92ZXJpZmllZCI6dHJ1ZSwiY291bnRyeSI6IkhVTiIsImxhbmd1YWdlIjoiaHUiLCJwcm9maWxlX3BpY3R1cmUiOnsidXJsIjoiaHR0cHM6Ly9jcmVkaXRvcm5vdG1lZGlhLnMzLmFtYXpvbmF3cy5jb20vZTFhYzQ3YmNmM2Q4ZTc0Y2JmMGI0NjAxZjA4MjFmODZmOWRlYzMyYjNmOTQxZWJmNzFkMWQ4Y2QwZGYxNDQ5YzNlNDdlODJlZDA4MDRlMTc0NmRlNjZhNjBkYmRmODUxYjQwNDliMDRhNWZmZGNkOGExN2MzMWQ3NTg3ODUzMGEifSwicGVybWlzc2lvbnMiOltdLCJwaG9uZV9udW1iZXIiOiIrMzYzMDYwMjY4MTgiLCJ0ZW5hbnQiOiJ3b2x0In0sImlhdCI6MTc0NTY3MzU3MCwiZXhwIjoxNzQ1Njc1MzcwLCJhbXIiOltdfQ.r9Uh8iA2DvMuV-8fc27pPu-ZJEvbHlHQvcOPZBZpPUVVAqVCnHih2sB_nKePhhBFYqOIdq0QJc-b7QXJC-F6gA'}
2025-04-26 15:38:00,535 - __main__ - DEBUG - Request data: {'venue_id': '5e3a8a3e2e4c5b000c9d2f3e', 'items': [{'id': '1812dce8d7ff69f637dcc217', 'quantity': 1, 'price': 95000}], 'currency': 'HUF'}
2025-04-26 15:38:00,546 - httpcore.connection - DEBUG - connect_tcp.started host='consumer-api.wolt.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-04-26 15:38:00,566 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000246067CA590>
2025-04-26 15:38:00,566 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000024606667770> server_hostname='consumer-api.wolt.com' timeout=5.0
2025-04-26 15:38:00,581 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000246067CA4D0>
2025-04-26 15:38:00,583 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-26 15:38:00,583 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-26 15:38:00,583 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-26 15:38:00,583 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-26 15:38:00,583 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-26 15:38:00,649 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json'), (b'Content-Length', b'71'), (b'Connection', b'keep-alive'), (b'Date', b'Sat, 26 Apr 2025 13:38:00 GMT'), (b'Vary', b'Accept-Encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 eb61a6f62d9d06e0967f2c75dc218372.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'BUD50-P1'), (b'X-Amz-Cf-Id', b'sTzvtZx3L8ho86CaV7kV-JL2HSWTAtB6-CvUjih8g4rFwaF1CW4Vew==')])
2025-04-26 15:38:00,651 - httpx - INFO - HTTP Request: POST https://consumer-api.wolt.com/order-xp/v1/baskets "HTTP/1.1 200 OK"
2025-04-26 15:38:00,651 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-26 15:38:00,651 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-26 15:38:00,651 - httpcore.http11 - DEBUG - response_closed.started
2025-04-26 15:38:00,651 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-26 15:38:00,651 - __main__ - INFO - Response status: 200
2025-04-26 15:38:00,651 - __main__ - INFO - Response headers: Headers({'content-type': 'application/json', 'content-length': '71', 'connection': 'keep-alive', 'date': 'Sat, 26 Apr 2025 13:38:00 GMT', 'vary': 'Accept-Encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 eb61a6f62d9d06e0967f2c75dc218372.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'BUD50-P1', 'x-amz-cf-id': 'sTzvtZx3L8ho86CaV7kV-JL2HSWTAtB6-CvUjih8g4rFwaF1CW4Vew=='})
2025-04-26 15:38:00,651 - __main__ - INFO - {"id":"680ce1b888f053462f247a5e","venue_id":"5e3a8a3e2e4c5b000c9d2f3e"}
2025-04-26 15:38:00,651 - httpcore.connection - DEBUG - close.started
2025-04-26 15:38:00,651 - httpcore.connection - DEBUG - close.complete
2025-04-26 15:38:00,652 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-04-26 15:42:46,877 - __main__ - INFO - Server stopped
